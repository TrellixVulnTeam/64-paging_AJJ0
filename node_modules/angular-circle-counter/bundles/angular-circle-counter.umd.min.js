!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("ease-component"),require("@angular/common")):"function"==typeof define&&define.amd?define("angular-circle-counter",["exports","@angular/core","ease-component","@angular/common"],e):e(t["angular-circle-counter"]={},t.ng.core,t.ease,t.ng.common)}(this,function(t,e,o,n){"use strict";var i=function(){function t(t){this.hostElement=t,this.mode="onInit",this.from=0,this.to=0,this.animationTime=4e3,this.animationType="linear",this.showCircle=!0,this.circleColor="#307bbb",this.fontSize=150,this.delay=0,this.finishedText="",this.finished=new e.EventEmitter,this._hold=!0,this._percentDone=0,this._holdProgress=0,this._finishedCounting=!1,this.nativeElement=t.nativeElement}return t.prototype.onWindowChange=function(t){"viewport"===this.mode&&this.hold&&this.isElementInViewport()&&this.start()},Object.defineProperty(t.prototype,"startTimeout",{get:function(){return this._startTimeout},set:function(t){this._startTimeout=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nativeElement",{get:function(){return this._nativeElement},set:function(t){this._nativeElement=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"holdProgress",{get:function(){return this._holdProgress},set:function(t){this._holdProgress=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"percentDone",{get:function(){return this._percentDone},set:function(t){this._percentDone=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._count},set:function(t){this._count=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startTime",{get:function(){return this._startTime},set:function(t){this._startTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hold",{get:function(){return this._hold},set:function(t){this._hold=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"finishedCounting",{get:function(){return this._finishedCounting},set:function(t){this._finishedCounting=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.init()},t.prototype.start=function(){var t=this;0<this.delay?this.startTimeout=window.setTimeout(function(){t.startAction()},this.delay):this.startAction()},t.prototype.stop=function(){window.clearTimeout(this.startTimeout),this.hold=!0},t.prototype.restart=function(){this.init()},t.prototype.init=function(){this.hold=!0,this.count=this.from,this.holdProgress=0,this.startTime=undefined,this.percentDone=0,this.finishedCounting=!1,window.clearTimeout(this.startTimeout),"undefined"==typeof this.of&&(this.of=this.to),"onInit"===this.mode&&this.start()},t.prototype.getCircleStyle=function(){return{clip:.5<=this.percentDone?"rect(auto, auto, auto, auto)":"rect(0em, 1em, 1em, 0.5em)"}},t.prototype.getBarStyle=function(){return{transform:"rotate("+360*this.percentDone+"deg)","border-color":this.circleColor}},t.prototype.getFillStyle=function(){var t=.5<this.percentDone?180:0;return{display:this.percentDone<=.5?"none":"block",transform:"rotate("+t+"deg)","border-color":this.circleColor}},t.prototype.startAction=function(){this.hold=!1,this.requestFrame()},t.prototype.step=function(t){this.startTime||(this.startTime=t);var e=t-this.startTime;if(e+=this.holdProgress,this.hold)return this.holdProgress=e,void(this.startTime=undefined);var n=o[this.animationType](e/this.animationTime),i=Math.round(n*this.to);i>=this.to&&(i=this.to),this.count=i,this.percentDone=i/this.of,e<this.animationTime?this.requestFrame():(this.finishedCounting=!0,this.finished.emit())},t.prototype.requestFrame=function(){window.requestAnimationFrame(this.step.bind(this))},t.prototype.isElementInViewport=function(){var t=this.nativeElement.getBoundingClientRect();return 0<=t.top&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)},t.decorators=[{type:e.Component,args:[{selector:"app-counter",template:'<div class="ng-counter" [style.font-size]="fontSize + \'px\'" [ngClass]="{\'ng-counter--with-circle\' : showCircle}">\n    <div class="ng-counter__text">\n        <ng-template [ngIf]="!finishedCounting || !finishedText.length">\n            <span class="ng-counter__prefix">\n                <ng-content select="ng-counter-prefix"></ng-content>\n            </span>\n            <span class="ng-counter__number">{{count}}</span>\n            <span class="ng-counter__suffix">\n                <ng-content select="ng-counter-suffix"></ng-content>\n            </span>\n        </ng-template>\n        <ng-template [ngIf]="finishedCounting && finishedText.length">\n            <span class="ng-counter__finish_text">{{finishedText}}</span>\n        </ng-template>\n    </div>\n    <div class="ng-counter__circle" *ngIf="showCircle" [ngStyle]="getCircleStyle()">\n        <div class="ng-counter__circle__bar" [ngStyle]="getBarStyle()"></div>\n        <div class="ng-counter__circle__fill" [ngStyle]="getFillStyle()"></div>\n    </div>\n</div>',styles:[".ng-counter{display:inline-block;position:relative;font-size:150px}.ng-counter.ng-counter--with-circle{width:1em;height:1em;box-sizing:content-box}.ng-counter.ng-counter--with-circle .ng-counter__text{align-items:center;justify-content:center;height:1em}.ng-counter__text{display:flex}.ng-counter__finish_text,.ng-counter__number,.ng-counter__prefix,.ng-counter__suffix{font-size:.3em}.ng-counter__circle{position:absolute;top:0;left:0;width:1em;height:1em;box-sizing:content-box}.ng-counter__circle__bar,.ng-counter__circle__fill{position:absolute;border:.08em solid;width:.84em;height:.84em;clip:rect(0,.5em,1em,0);border-radius:50%;box-sizing:content-box}"]}]}],t.ctorParameters=function(){return[{type:e.ElementRef}]},t.propDecorators={mode:[{type:e.Input}],from:[{type:e.Input}],to:[{type:e.Input}],of:[{type:e.Input}],animationTime:[{type:e.Input}],animationType:[{type:e.Input}],showCircle:[{type:e.Input}],circleColor:[{type:e.Input}],fontSize:[{type:e.Input}],delay:[{type:e.Input}],finishedText:[{type:e.Input}],finished:[{type:e.Output}],onWindowChange:[{type:e.HostListener,args:["window:scroll",["$event"]]},{type:e.HostListener,args:["window:resize",["$event"]]}]},t}(),r=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[i],imports:[n.CommonModule],schemas:[e.CUSTOM_ELEMENTS_SCHEMA],exports:[i]}]}],t}();t.CounterModule=r,t.Éµa=i,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=angular-circle-counter.umd.min.js.map